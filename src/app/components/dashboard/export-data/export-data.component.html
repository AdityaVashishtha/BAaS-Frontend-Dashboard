<div class="row">
  <div class="col-sm-12">
    <nb-card>
      <nb-card-header>
        Export Data Configurations
      </nb-card-header>
      <nb-card-body>
        <form #form="ngForm">
          <div class="container">
            <div class="setting-choice-box">
              <div class="title text-hint">Model Parameters</div>
              <ul class="option-list">
                <!-- <li class="option">
                  <div class="option-body row">
                    <div class="option-title col-md-8 col-sm-6">Name</div>
                    <div class="option-value col-md-4 col-sm-6">
                      <input name="aasName" [(ngModel)]="aasSettings.name" type="text" required class="form-control form-control-info">
                    </div>
                  </div>
                  <div class="option-summary text-hint font-w-light">What do you want to call it?</div>
                </li> -->

                <li class="option">
                  <div class="option-body row">
                    <div class="option-title col-md-8 col-sm-6">Select your schema</div>
                    <div class="option-value col-md-4 col-sm-6">
                      <div class="dropdown" ngbDropdown>
                        <button class="btn btn-outline-info" type="button" ngbDropdownToggle>
                          {{exportConf.schema}}
                        </button>
                        <ul ngbDropdownMenu class="dropdown-menu">
                          <li class="dropdown-item" (click)="exportConf.schema = item;onSchemaSelect(this.exportConf.schema)" *ngFor="let item of schemas">
                            {{item}}
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="option-summary text-hint font-w-light">Choose schema on which model is to be created</div>
                </li>
                <li class="option">
                  <div class="option-body row">
                    <div class="option-title col-sm-12">Select Attributes</div>
                    <div class="col-sm-12">
                      <div class="row">
                          <div class="col-md-8 row">
                              <div class="p-3 item" *ngFor="let i of exportConf.attributes">
                                  {{i}}
                                  <button type="button" (click)="removeAttribute(i)" class="ml-1 close" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                              </div>
                          </div>
                          <div class="col-md-4">
                              <div class="container">
                                  <div class="row">
                                  <div class="form-group col-md-8">
                                      <div class="dropdown" ngbDropdown>
                                          <button class="btn btn-outline-info" type="button" ngbDropdownToggle>
                                            {{selectedAttribute}}
                                          </button>
                                          <ul ngbDropdownMenu class="dropdown-menu">
                                            <li class="dropdown-item" (click)="selectedAttribute=item" *ngFor="let item of attributes">
                                              {{item}}
                                            </li>
                                          </ul>
                                        </div>
                                  </div> 
                                  <div class="form-group col-md-4">
                                      <button class="form-element btn btn btn-outline-info" (click)="addAttribute();">Add</button>
                                  </div>                                           
                                </div>
                              </div>
                          </div>
                      </div>
                    </div>
                  </div>
                  <div class="option-summary text-hint font-w-light">Choose required attributes</div>
                </li>
                <li class="option">
                  <div class="option-body row">
                    <div class="option-title col-md-8 col-sm-6">Select Data Format</div>
                    <div class="option-value col-md-4 col-sm-6">
                        <select name="format" class="form-control form-control-info" [(ngModel)]="exportConf.format">
                          <option value="csv" default>CSV</option>
                        </select>
                    </div>
                  </div>
                  <div class="option-summary text-hint font-w-light">Select one data formats</div>
                </li> 
              </ul>
            </div>
          </div>
        </form>
        <div class="row" *ngIf="url != null">
          <div class="col-md-6 offset-md-3">
            <a href="{{url}}" target="_blank" class="btn btn-block btn-outline-primary">
              Export Data
            </a>
          </div>
        </div>
      </nb-card-body>
      <nb-card-footer>
        <button (click)="onSubmit()" [disabled]="!form.valid" class="col-md-4 offset-md-8 btn btn-md btn-hero-info" type="submit">
          Convert Data to CSV
        </button>
      </nb-card-footer>
    </nb-card>
  </div>
</div>